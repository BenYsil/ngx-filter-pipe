{"version":3,"file":"ng2-filter.pipe.js","sourceRoot":"","sources":["ng2-filter.pipe.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * Created by vadimdez on 28/06/16.\n */\nimport { Pipe, Injectable } from '@angular/core';\n\n@Pipe({\n  name: 'filterBy',\n  pure: false\n})\n\n@Injectable()\nexport class Ng2FilterPipe {\n\n  private filterByString(filter) {\n    return value => {\n      return !filter || value.indexOf(filter) !== -1;\n    }\n  }\n\n  private filterByObject(filter) {\n    return value => {\n      for (let key in filter) {\n        if (!value.hasOwnProperty(key)) {\n          return false;\n        }\n\n        const type = typeof value[key];\n        let isMatching;\n\n        if (type === 'string') {\n          isMatching = this.filterByString(filter[key])(value[key]);\n        } else if (type === 'object') {\n          isMatching = this.filterByObject(filter[key])(value[key]);\n        } else {\n          isMatching = this.filterDefault(filter[key])(value[key]);\n        }\n\n        if (!isMatching) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n  }\n\n  /**\n   * Defatul filterDefault function\n   *\n   * @param filter\n   * @returns {(value:any)=>boolean}\n   */\n  private filterDefault(filter) {\n    return value => {\n      return !filter || filter == value;\n    }\n  }\n\n  private isNumber(value) {\n    return !isNaN(parseInt(value, 10)) && isFinite(value);\n  }\n\n  transform(array: any[], filter: any): any {\n    const type = typeof filter;\n\n    if (type === 'string') {\n      if (this.isNumber(filter)) {\n        return array.filter(this.filterDefault(filter));\n      }\n\n      return array.filter(this.filterByString(filter));\n    }\n\n    if (type === 'object') {\n      return array.filter(this.filterByObject(filter));\n    }\n\n    return array.filter(this.filterDefault(filter));\n  }\n}"]}